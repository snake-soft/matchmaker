{% load join_by_attr %}

{% block head %}
<script>$(document).ready(function() {loadDataTables()} );</script>
{% endblock%}

{% if object_list %}
<div class="table-responsive">
<table id="player-overview" class="table table-striped table-bordered table-hover" >
	<thead>
		<tr>
			<th>#</th>
			<th>Team Name</th>
			<th>Members</th>
			<th>Score</th>
			<th>Strength</th>
			<th>Win:Draw:Lose</th>
			<th>Close Win:Lose</th>
		</tr>
	</thead>
{% for team in object_list %}
    <tr>
    	<th></th>
    	<td>{{ team.name }}</td>
    	<td>{{ team.players.all|join_by_attr:"nick" }}</td>
    	<td>{{ team.team_score }}</td>
    	<td>{{ team.team_rating_as_int}}</td>
    	<td>{{ team.get_win_draw_lose.0 | length }}:{{ team.get_win_draw_lose.1 | length }}:{{ team.get_win_draw_lose.2 | length }}</td>
    	<td>{{ team.close_win_lose.0 | length }}:{{ team.close_win_lose.1 | length }}</td>
{% empty %}
    <li>No player yet.</li>
{% endfor %}
</table>
</div>
{% endif %}