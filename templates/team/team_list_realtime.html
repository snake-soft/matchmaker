{% load join_by_attr signed %}

{% if object_list %}
{{-3|signed}}
<div class="table-responsive">
<table id="teams-realtime" class="table table-striped table-bordered table-hover" >
	<thead>
		<tr>
			<th>#</th>
			<th>Team Name</th>
			<th>Members</th>
			<th>Score</th>
			<th>Strength</th>
			<th>Win:Draw:Lose</th>
			<th>Close Win:Lose</th>
		</tr>
	</thead>
{% for team in object_list %}
    <tr>
    	<th></th>
    	<td>{{ team.name }}</td>
		<td>{% for player in team.players.all %}{{player.nick}}
				({{player.rating_as_int}}{% for rt in player_realtime %}{% if rt.player.pk == player.pk %}{{ rt.elo_diff|signed}}={{ rt.elo_as_int }}{% endif%}{% endfor %}),
    	    {% endfor %}
    	</td>
    	<td>{{ team.team_score }}
			{% for rt in team_realtime %}{% if rt.own_team.pk == team.pk %}
				<br />{{rt.team_score_diff|signed}}
				<br />={{ rt.team_score }}
			{% endif%}{% endfor %}
    	</td>

    	<td>{{ team.team_rating_as_int}}
			{% for rt in team_realtime %}{% if rt.own_team.pk == team.pk %}
				<br />{{rt.strength_diff|signed}}
				<br />={{ rt.strength }}
			{% endif%}{% endfor %}
		</td>
    	<td>{{ team.get_win_draw_lose.0 | length }}:{{ team.get_win_draw_lose.1 | length }}:{{ team.get_win_draw_lose.2 | length }}
			{% for rt in team_realtime %}{% if rt.own_team.pk == team.pk %}
		    	<br />({{ rt.team_wdl_diff.0|signed }}:{{ rt.team_wdl_diff.1|signed }}:{{ rt.team_wdl_diff.2|signed }})
		    	<br />={{ rt.team_wdl.0 | length }}:{{ rt.team_wdl.1 | length }}:{{ rt.team_wdl.2 | length }}
			{% endif%}{% endfor %}
    	</td>
    	
    	<td>{{ team.close_win_lose.0 | length }}:{{ team.close_win_lose.1 | length }}
			{% for rt in team_realtime %}{% if rt.own_team.pk == team.pk %}
		    	<br />({{ rt.close_wl_diff.0|signed }}:{{ rt.close_wl_diff.1|signed }})
		    	<br />={{ rt.close_wl.0 | length }}:{{ rt.close_wl.1 | length }}
			{% endif%}{% endfor %}
		</td>
{% endfor %}
</table>
</div>
<script>loadDataTables()</script>
{% endif %}